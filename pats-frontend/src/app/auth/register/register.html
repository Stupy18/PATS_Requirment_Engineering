<div class="register-container">
  <!-- Left Side - Form -->
  <div class="register-content">
    <div class="register-card">
      <div class="brand-section">
        <div class="brand-icon">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/>
            <path d="M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27"/>
          </svg>
        </div>
        <h1 class="brand-title">Join PATS</h1>
        <p class="brand-subtitle">Create your account</p>
      </div>

      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="role-selector">
          <label class="role-option">
            <input type="radio" formControlName="role" value="PATIENT">
            <span class="role-card">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
              </svg>
              <span>Patient</span>
            </span>
          </label>
          <label class="role-option">
            <input type="radio" formControlName="role" value="PSYCHOLOGIST">
            <span class="role-card">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
              </svg>
              <span>Psychologist</span>
            </span>
          </label>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="firstName">First Name</label>
            <input
              type="text"
              id="firstName"
              class="form-input"
              formControlName="firstName"
              placeholder="John"
              [class.invalid]="registerForm.get('firstName')?.invalid && registerForm.get('firstName')?.touched">
            <span class="error-text" *ngIf="registerForm.get('firstName')?.invalid && registerForm.get('firstName')?.touched">
              Required
            </span>
          </div>
          <div class="form-group">
            <label for="lastName">Last Name</label>
            <input
              type="text"
              id="lastName"
              class="form-input"
              formControlName="lastName"
              placeholder="Doe"
              [class.invalid]="registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched">
            <span class="error-text" *ngIf="registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched">
              Required
            </span>
          </div>
        </div>

        <div class="form-group">
          <label for="username">Username</label>
          <input
            type="text"
            id="username"
            class="form-input"
            formControlName="username"
            placeholder="johndoe"
            [class.invalid]="registerForm.get('username')?.invalid && registerForm.get('username')?.touched">
          <span class="error-text" *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched">
            Min 3 characters
          </span>
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input
            type="email"
            id="email"
            class="form-input"
            formControlName="email"
            placeholder="john@example.com"
            [class.invalid]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
          <span class="error-text" *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
            Valid email required
          </span>
        </div>

        <div class="form-group">
          <label for="phoneNumber">Phone Number (Optional)</label>
          <input
            type="tel"
            id="phoneNumber"
            class="form-input"
            formControlName="phoneNumber"
            placeholder="+1234567890">
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <input
            type="password"
            id="password"
            class="form-input"
            formControlName="password"
            placeholder="Min 6 characters"
            [class.invalid]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
          <span class="error-text" *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
            Min 6 characters
          </span>
        </div>

        <div *ngIf="errorMessage" class="alert alert-danger">
          {{ errorMessage }}
        </div>

        <button
          type="submit"
          class="btn-primary"
          [disabled]="loading || registerForm.invalid">
          <span *ngIf="loading" class="spinner"></span>
          {{ loading ? 'Creating Account...' : 'Create Account' }}
        </button>
      </form>

      <div class="divider">
        <span>or</span>
      </div>

      <div class="login-link">
        Already have an account? <a routerLink="/login">Sign in</a>
      </div>
    </div>
  </div>

  <!-- Right Side - Background -->
  <div class="register-background">
    <div class="background-overlay"></div>
    <div class="background-content">
      <h2>Start Your Mental Health Journey</h2>
      <p>Join thousands of people taking control of their mental health. Track your emotions, schedule appointments, and access professional support.</p>
    </div>
  </div>
</div>
