<div class="dashboard-layout">
  <app-navbar></app-navbar>
  <app-notification-banner></app-notification-banner>

  <div class="main-content">
    <div class="content-area">
      <!-- Page Header -->
      <header class="page-header">
        <div>
          <h1 class="page-title">Mood History</h1>
          <p class="page-subtitle">Track your emotional journey over time</p>
        </div>
        <div class="header-actions">
          <button class="btn-secondary" (click)="goBack()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
            Back
          </button>
          <button class="btn-primary" (click)="goToCheckin()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="12" y1="5" x2="12" y2="19"/>
              <line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
            New Check-in
          </button>
        </div>
      </header>

      <!-- Loading State -->
      <div *ngIf="isLoading" class="card loading-state">
        <div class="spinner"></div>
        <p>Loading your mood history...</p>
      </div>

      <!-- Error State -->
      <div *ngIf="errorMessage && !isLoading" class="card error-state">
        <p>{{ errorMessage }}</p>
      </div>

      <!-- Empty State -->
      <div *ngIf="!isLoading && moodEntries.length === 0" class="card empty-state">
        <div class="empty-icon">ðŸ“Š</div>
        <h2>No mood entries yet</h2>
        <p>Start tracking your emotional state by completing your first daily check-in</p>
        <button class="btn-primary" (click)="goToCheckin()">Complete First Check-in</button>
      </div>

      <!-- Mood Entries List -->
      <div *ngIf="!isLoading && moodEntries.length > 0" class="entries-list">
        <div *ngFor="let entry of moodEntries" class="card entry-item">
          <div class="entry-header">
            <div class="entry-date">
              <span class="date">{{ entry.entryTimestamp | date:'fullDate' }}</span>
              <span class="time">{{ entry.entryTimestamp | date:'shortTime' }}</span>
            </div>
            <div class="entry-rating">
              <span class="emoji">{{ getEmoji(entry.emotionalRating) }}</span>
              <span class="rating-value">{{ entry.emotionalRating }}/10</span>
            </div>
          </div>
          <div class="entry-label">
            {{ getRatingLabel(entry.emotionalRating) }}
          </div>
          <div *ngIf="entry.notes" class="entry-notes">
            <p>{{ entry.notes }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
